"use strict";(self.webpackChunkchat_condominium_association=self.webpackChunkchat_condominium_association||[]).push([[337],{1337:(x,h,s)=>{s.r(h),s.d(h,{AuthModule:()=>k});var p=s(6814),a=s(5959),t=s(5879),r=s(95),g=s(9862),U=s(553);let F=(()=>{class u{constructor(){this.ADMIN_API_URL=`${U.N.apiUrl}admin/`,this.ADMIN_REGISTER_ENDPOINT="register",this.ADMIN_LOGIN_ENDPOINT="login",this.http=new g.eN((0,t.f3M)(g.jN))}signUp(n){return this.http.post(`${this.ADMIN_API_URL}${this.ADMIN_REGISTER_ENDPOINT}`,n)}signIn(n){return this.http.post(`${this.ADMIN_API_URL}${this.ADMIN_LOGIN_ENDPOINT}`,n,{withCredentials:!0})}static#t=this.\u0275fac=function(e){return new(e||u)};static#u=this.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();var E=s(5619),f=s(8180),A=s(4716),i=s(8795),G=s(9701),_=s(2639),S=s(2593),b=s(4221),I=s(7158);let R=(()=>{class u{constructor(){this.adminAuthApiService=(0,t.f3M)(F),this.router=(0,t.f3M)(a.F0),this.dialog=(0,t.f3M)(G.uw),this.store=(0,t.f3M)(b.yh),this.modalService=(0,t.f3M)(S.Z),this.backendErrors$=new E.X([]),this.isLoading$=new E.X(!1),this.LOGIN_PAGE_ROUTE=`/${i.$.LOGIN_PAGE_ROUTE}`,this.PROFILE_PAGE_ROUTE=`/${i.$.PROFILE_PAGE_ROUTE}`}handleLogin(n){const e=n.value,{email:o,password:l}=e;this.isLoading$.next(!0),this.adminAuthApiService.signIn({email:o,password:l}).pipe((0,f.q)(1),(0,A.x)(()=>{n.reset(),this.isLoading$.next(!1)})).subscribe({next:()=>{this.modalService.openModal({headerMessage:"\u0412\u0445\u0456\u0434 \u0443\u0441\u043f\u0456\u0448\u043d\u0438\u0439",buttonText:"\u041f\u043e\u0447\u0430\u0442\u0438 \u0440\u043e\u0431\u043e\u0442\u0443 \u0437 \u0427\u0430\u0442\u043e\u043c",showSubmitBtn:!0,handleSubmit:()=>{this.router.navigateByUrl(this.PROFILE_PAGE_ROUTE),this.dialog.closeAll()},icon:_.P.Success}),this.store.dispatch((0,I.cw)())},error:m=>this.handleError(m,"\u0421\u043f\u0440\u043e\u0431\u0443\u0432\u0430\u0442\u0438 \u0449\u0435 \u0440\u0430\u0437")})}handleRegister(n){const e=n.value,{email:o,password:l}=e;this.isLoading$.next(!0),this.adminAuthApiService.signUp({email:o,password:l}).pipe((0,f.q)(1),(0,A.x)(()=>{n.reset(),this.isLoading$.next(!1)})).subscribe({next:()=>this.router.navigateByUrl(this.LOGIN_PAGE_ROUTE),error:m=>this.handleError(m,"\u0421\u043f\u0440\u043e\u0431\u0443\u0432\u0430\u0442\u0438 \u0449\u0435 \u0440\u0430\u0437")})}handleError(n,e){const o=n?.error?.detail||"\u0412\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430";this.backendErrors$.next([o]),this.modalService.openModal({headerMessage:o,buttonText:e,showSubmitBtn:!0,icon:_.P.AlertExclamation})}static#t=this.\u0275fac=function(e){return new(e||u)};static#u=this.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();function w(u,z){return n=>{const e=n.get(u),o=n.get(z);return!e||!o||o.errors&&!o.errors.mismatch||o.setErrors(e.value!==o.value?{mismatch:!0}:null),null}}var c=s(2490),d=s(983);const T=function(){return["assets/icons/eye-closed.svg","assets/icons/eye-open.svg"]},Z=function(u){return[u]};let C=(()=>{class u{constructor(){this.fb=(0,t.f3M)(r.qu),this.adminAuthService=(0,t.f3M)(R),this.LOGIN_PAGE_ROUTE=`/${i.$.LOGIN_PAGE_ROUTE}`,this.registerForm=this.fb.group({email:["",[r.kI.required,r.kI.pattern(/^[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)*@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$/)]],password:["",[r.kI.required,r.kI.minLength(8),r.kI.pattern(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d!@#$%^&*()_+]{8,}$/)]],confirmPassword:["",[r.kI.required]]},{validators:w("password","confirmPassword")})}static#t=this.\u0275fac=function(e){return new(e||u)};static#u=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-register-page"]],decls:16,vars:17,consts:[[1,"container-center"],[1,"default-content-block"],[1,"auth__form"],[3,"formGroup","ngSubmit"],["label","\u041f\u043e\u0448\u0442\u0430","name","email","type","email",3,"control","isRequired"],["label","\u041f\u0430\u0440\u043e\u043b\u044c","name","password","type","password",3,"control","isRequired","iconsUrl"],["label","\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c","name","confirmPassword","type","password",3,"control","isRequired","iconsUrl"],["type","submit",3,"disabled"],[1,"auth-nav",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c"),t.qZA(),t.TgZ(5,"form",3),t.NdJ("ngSubmit",function(){return o.adminAuthService.handleRegister(o.registerForm)}),t._UZ(6,"app-form-control",4)(7,"app-form-control",5)(8,"app-form-control",6),t.TgZ(9,"app-button",7),t.ALo(10,"async"),t._uU(11," \u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f "),t.qZA()(),t.TgZ(12,"div"),t._uU(13,"\u0412\u0436\u0435 \u0454 \u0430\u043a\u0430\u0443\u043d\u0442? "),t.TgZ(14,"a",8),t._uU(15,"\u0423\u0432\u0456\u0439\u0442\u0438"),t.qZA()()()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",o.registerForm),t.xp6(1),t.Q6J("control",o.registerForm.get("email"))("isRequired",!0),t.xp6(1),t.Q6J("control",o.registerForm.get("password"))("isRequired",!0)("iconsUrl",t.DdM(13,T)),t.xp6(1),t.Q6J("control",o.registerForm.get("confirmPassword"))("isRequired",!0)("iconsUrl",t.DdM(14,T)),t.xp6(1),t.Q6J("disabled",o.registerForm.invalid||!!t.lcZ(10,11,o.adminAuthService.isLoading$)),t.xp6(5),t.Q6J("routerLink",t.VKq(15,Z,o.LOGIN_PAGE_ROUTE)))},dependencies:[a.rH,r._Y,r.JL,r.sg,c.r,d.A,p.Ov]})}return u})();const D=function(){return["assets/icons/eye-closed.svg","assets/icons/eye-open.svg"]},v=function(u){return[u]};let y=(()=>{class u{constructor(){this.fb=(0,t.f3M)(r.qu),this.adminAuthService=(0,t.f3M)(R),this.REGISTRATION_PAGE_ROUTE=`/${i.$.REGISTRATION_PAGE_ROUTE}`,this.FORGOT_PASSWORD_PAGE_ROUTE=`/${i.$.FORGOT_PASSWORD_PAGE_ROUTE}`,this.loginForm=this.fb.group({email:["",[r.kI.required,r.kI.pattern(/^[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)*@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$/)]],password:["",[r.kI.required]]})}static#t=this.\u0275fac=function(e){return new(e||u)};static#u=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-login-page"]],decls:18,vars:16,consts:[[1,"container-center"],[1,"default-content-block"],[1,"auth__form"],[3,"formGroup","ngSubmit"],["label","\u041f\u043e\u0448\u0442\u0430","name","email","type","email",3,"control","isRequired"],["label","\u041f\u0430\u0440\u043e\u043b\u044c","name","password","type","password",3,"control","isRequired","iconsUrl"],[1,"forgot-password"],[1,"auth-nav",3,"routerLink"],["type","submit",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"\u0423\u0432\u0456\u0439\u0442\u0438"),t.qZA(),t.TgZ(5,"form",3),t.NdJ("ngSubmit",function(){return o.adminAuthService.handleLogin(o.loginForm)}),t._UZ(6,"app-form-control",4)(7,"app-form-control",5),t.TgZ(8,"div",6)(9,"a",7),t._uU(10," \u0417\u0430\u0431\u0443\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),t.qZA()(),t.TgZ(11,"app-button",8),t.ALo(12,"async"),t._uU(13," \u0412\u0445\u0456\u0434 "),t.qZA()(),t.TgZ(14,"div"),t._uU(15," \u041d\u0435 \u043c\u0430\u0454\u0442\u0435 \u0430\u043a\u0430\u0443\u043d\u0442\u0443? "),t.TgZ(16,"a",7),t._uU(17,"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c"),t.qZA()()()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",o.loginForm),t.xp6(1),t.Q6J("control",o.loginForm.get("email"))("isRequired",!0),t.xp6(1),t.Q6J("control",o.loginForm.get("password"))("isRequired",!0)("iconsUrl",t.DdM(11,D)),t.xp6(2),t.Q6J("routerLink",t.VKq(12,v,o.FORGOT_PASSWORD_PAGE_ROUTE)),t.xp6(2),t.Q6J("disabled",o.loginForm.invalid||!!t.lcZ(12,9,o.adminAuthService.isLoading$)),t.xp6(5),t.Q6J("routerLink",t.VKq(14,v,o.REGISTRATION_PAGE_ROUTE)))},dependencies:[a.rH,r._Y,r.JL,r.sg,c.r,d.A,p.Ov],styles:[".forgot-password[_ngcontent-%COMP%]{text-align:right}"]})}return u})();const O=function(u){return[u]},P=function(){return["assets/icons/eye-closed.svg","assets/icons/eye-open.svg"]},J=[{path:"",component:(()=>{class u{constructor(){this.REGISTRATION_PAGE_ROUTE=i.$.REGISTRATION_PAGE_ROUTE,this.LOGIN_PAGE_ROUTE=i.$.LOGIN_PAGE_ROUTE}static#t=this.\u0275fac=function(e){return new(e||u)};static#u=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-start-page"]],decls:7,vars:6,consts:[[1,"container-top"],["src","assets/icons/logo.svg","alt","Logo"],[1,"nav-btns"],[1,"link-btn",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"a",3),t._uU(4,"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c"),t.qZA(),t.TgZ(5,"a",3),t._uU(6,"\u0423\u0432\u0456\u0439\u0442\u0438"),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("routerLink",t.VKq(2,O,o.REGISTRATION_PAGE_ROUTE)),t.xp6(2),t.Q6J("routerLink",t.VKq(4,O,o.LOGIN_PAGE_ROUTE)))},dependencies:[a.rH],styles:["img[_ngcontent-%COMP%]{display:block;margin:0 auto 40px}.nav-btns[_ngcontent-%COMP%]{margin:0 auto;max-width:210px}.nav-btns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#f6f6f6;color:#0c0a00;margin-bottom:20px}.nav-btns[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-of-type{border:1px solid #0c0a00}.container-top[_ngcontent-%COMP%]{align-items:center;top:42%;left:50%;position:absolute;transform:translate(-50%,-50%);width:50%}"]})}return u})()},{path:i.$.REGISTRATION_PAGE_ROUTE,component:C},{path:i.$.LOGIN_PAGE_ROUTE,component:y},{path:i.$.FORGOT_PASSWORD_PAGE_ROUTE,component:(()=>{class u{constructor(){this.fb=(0,t.f3M)(r.qu),this.FORGOT_PASSWORD_PAGE_ROUTE=`/${i.$.FORGOT_PASSWORD_PAGE_ROUTE}`,this.forgotPasswordForm=this.fb.group({email:["",[r.kI.email,r.kI.required]]})}static#t=this.\u0275fac=function(e){return new(e||u)};static#u=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-forgot-password"]],decls:9,vars:4,consts:[[1,"container-center"],[1,"default-content-block"],[1,"auth__form"],[3,"formGroup"],["label","\u041f\u043e\u0448\u0442\u0430","name","email","type","email","placeholder","\u041f\u043e\u0448\u0442\u0430",3,"control","isRequired"],["type","submit","title","submit",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"\u0414\u043b\u044f \u0432\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0430\u0440\u043e\u043b\u044e \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0432\u043e\u044e \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443 \u043f\u043e\u0448\u0442\u0443"),t.qZA(),t.TgZ(5,"form",3),t._UZ(6,"app-form-control",4),t.TgZ(7,"app-button",5),t._uU(8," \u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438 \u043a\u043e\u0434 "),t.qZA()()()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",o.forgotPasswordForm),t.xp6(1),t.Q6J("control",o.forgotPasswordForm.get("email"))("isRequired",!0),t.xp6(1),t.Q6J("disabled",o.forgotPasswordForm.invalid))},dependencies:[r._Y,r.JL,r.sg,c.r,d.A]})}return u})()},{path:i.$.RESET_CODE_PAGE_ROUTE,component:(()=>{class u{constructor(){this.fb=(0,t.f3M)(r.qu),this.RESET_CODE_PAGE_ROUTE=`/${i.$.RESET_CODE_PAGE_ROUTE}`,this.resetCodeForm=this.fb.group({code:["",[r.kI.required]]})}onSubmit(){console.log("wow ")}static#t=this.\u0275fac=function(e){return new(e||u)};static#u=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-reset-code"]],decls:9,vars:4,consts:[[1,"container-center"],[1,"default-content-block"],[1,"auth__form"],[3,"formGroup","ngSubmit"],["label","\u041a\u043e\u0434","name","code","type","text","placeholder","\u041a\u043e\u0434",3,"control","isRequired"],["type","submit","title","submit",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432 \u043f\u043e\u043b\u0435 \u043a\u043e\u0434, \u0449\u043e \u0431\u0443\u0432 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u0438\u0439 \u043d\u0430 \u0432\u0430\u0448\u0443 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443 \u0430\u0434\u0440\u0435\u0441\u0443"),t.qZA(),t.TgZ(5,"form",3),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t._UZ(6,"app-form-control",4),t.TgZ(7,"app-button",5),t._uU(8," \u0414\u0430\u043b\u0456 "),t.qZA()()()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",o.resetCodeForm),t.xp6(1),t.Q6J("control",o.resetCodeForm.get("code"))("isRequired",!0),t.xp6(1),t.Q6J("disabled",o.resetCodeForm.invalid))},dependencies:[r._Y,r.JL,r.sg,c.r,d.A]})}return u})()},{path:i.$.NEW_PASSWORD_PAGE_ROUTE,component:(()=>{class u{constructor(){this.fb=(0,t.f3M)(r.qu),this.NEW_PASSWORD_PAGE_ROUTE=`/${i.$.NEW_PASSWORD_PAGE_ROUTE}`,this.newPasswordForm=this.fb.group({password:["",[r.kI.required,r.kI.minLength(8),r.kI.pattern(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d!@#$%^&*()_+]{8,}$/)]],confirmPassword:["",[r.kI.required]]})}static#t=this.\u0275fac=function(e){return new(e||u)};static#u=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-new-password"]],decls:10,vars:10,consts:[[1,"container-center"],[1,"default-content-block"],[1,"auth__form"],[3,"formGroup"],["label","\u041d\u043e\u0432\u0438\u0439 \u041f\u0430\u0440\u043e\u043b\u044c","name","password","type","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c",3,"control","isRequired","iconsUrl"],["label","\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c","name","confirmPassword","type","password","placeholder","\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",3,"control","isRequired","iconsUrl"],["type","submit","title","submit",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),t.qZA(),t.TgZ(5,"form",3),t._UZ(6,"app-form-control",4)(7,"app-form-control",5),t.TgZ(8,"app-button",6),t._uU(9," \u0412\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c "),t.qZA()()()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",o.newPasswordForm),t.xp6(1),t.Q6J("control",o.newPasswordForm.get("password"))("isRequired",!0)("iconsUrl",t.DdM(8,P)),t.xp6(1),t.Q6J("control",o.newPasswordForm.get("confirmPassword"))("isRequired",!0)("iconsUrl",t.DdM(9,P)),t.xp6(1),t.Q6J("disabled",o.newPasswordForm.invalid))},dependencies:[r._Y,r.JL,r.sg,c.r,d.A]})}return u})()},{path:i.$.SUCCESS_NEW_PASSWORD_PAGE_ROUTE,component:(()=>{class u{static#t=this.\u0275fac=function(e){return new(e||u)};static#u=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-succes-new-password"]],decls:7,vars:0,consts:[[1,"container-center"],[1,"default-content-block"],[1,"auth__form"],["type","submit","title","submit"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e"),t.qZA(),t.TgZ(5,"app-button",3),t._uU(6," \u0412\u0432\u0456\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 "),t.qZA()()()())},dependencies:[c.r]})}return u})()}];let B=(()=>{class u{static#t=this.\u0275fac=function(e){return new(e||u)};static#u=this.\u0275mod=t.oAB({type:u});static#e=this.\u0275inj=t.cJS({imports:[a.Bz.forChild(J),a.Bz]})}return u})();var Q=s(6208);let k=(()=>{class u{static#t=this.\u0275fac=function(e){return new(e||u)};static#u=this.\u0275mod=t.oAB({type:u});static#e=this.\u0275inj=t.cJS({imports:[p.ez,B,a.Bz,r.UX,Q.m]})}return u})()}}]);