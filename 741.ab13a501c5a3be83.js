"use strict";(self.webpackChunkchat_condominium_association=self.webpackChunkchat_condominium_association||[]).push([[741],{2741:(Nt,Z,s)=>{s.r(Z),s.d(Z,{ChatsModule:()=>$t});var u=s(6814),d=s(5959),t=s(5879),r=s(4221),A=s(2940),C=s(4730),b=s(304),h=s(2639),y=s(2059);const k=function(){return["/members"]};function L(e,a){if(1&e&&(t.TgZ(0,"li")(1,"div",0),t._UZ(2,"app-svg-icon",1),t.qZA(),t.TgZ(3,"a",2),t._uU(4," \u0423\u0447\u0430\u0441\u043d\u0438\u043a\u0438"),t.qZA()()),2&e){const o=t.oxw();t.xp6(2),t.Q6J("iconId",o.icons.Members),t.xp6(1),t.Q6J("routerLink",t.DdM(2,k))}}const $=function(){return["/profile"]};let N=(()=>{class e{constructor(){this.authService=(0,t.f3M)(b.e),this.UserRole=C.i,this.icons=h.P}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-pages-nav"]],decls:14,vars:7,consts:[[1,"nav-icon"],[3,"iconId"],["routerLinkActive","is-active",3,"routerLink"],[4,"ngIf"],["routerLink","/chats","routerLinkActive","is-active"]],template:function(i,n){1&i&&(t.TgZ(0,"nav")(1,"ul")(2,"li")(3,"div",0),t._UZ(4,"app-svg-icon",1),t.qZA(),t.TgZ(5,"a",2),t._uU(6," \u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442"),t.qZA()(),t.YNc(7,L,5,3,"li",3),t.ALo(8,"async"),t.TgZ(9,"li")(10,"div",0),t._UZ(11,"app-svg-icon",1),t.qZA(),t.TgZ(12,"a",4),t._uU(13," \u0427\u0430\u0442\u0438"),t.qZA()()()()),2&i&&(t.xp6(4),t.Q6J("iconId",n.icons.Profile),t.xp6(1),t.Q6J("routerLink",t.DdM(6,$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(8,4,n.authService.getCurrentRole())===n.UserRole.Admin),t.xp6(4),t.Q6J("iconId",n.icons.Chat))},dependencies:[u.O5,d.rH,d.Od,y.b,u.Ov],styles:["[_nghost-%COMP%]{width:15%;display:flex;justify-content:center;align-items:center}ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;text-decoration:none;list-style:none}li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:40px;column-gap:12px}li[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{width:20px;height:20px}li[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]:has( + a.is-active)[_ngcontent-%COMP%]     .icon{fill:#faf353}li[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{color:#0c0a00;font-weight:700}li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]{color:#faf353}li[_ngcontent-%COMP%]:last-of-type   .nav-icon[_ngcontent-%COMP%]:has( + a.is-active)[_ngcontent-%COMP%]     .icon{stroke:#faf353;fill:none}"],changeDetection:0})}return e})();const P=e=>e.entities.rommsByID,z=(0,r.P1)(P,e=>Object.values(e.roomsByID)[0].id),q=(0,r.P1)(P,e=>e.roomsByID),H=(0,r.P1)(P,e=>e.isLoading),O=e=>(0,r.P1)(q,a=>a[e]),T={1:"/assets/avatars/1.svg",2:"/assets/avatars/2.svg",3:"/assets/avatars/3.svg",4:"/assets/avatars/4.svg",5:"/assets/avatars/5.svg",6:"/assets/avatars/6.svg",7:"/assets/avatars/deleted.svg"};var X=s(2096),U=s(7398);let G=(()=>{class e{constructor(){this.avatars$=(0,X.of)(T)}getAvatarSrc(o){const i=o||0;return this.avatars$.pipe((0,U.U)(n=>n[i]))}getAvatars(){return this.avatars$}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var K=s(6883);function W(e,a){if(1&e&&(t.ynx(0),t._UZ(1,"img",1),t.ALo(2,"async"),t.TgZ(3,"h3",2),t._uU(4),t.qZA(),t.BQk()),2&e){const o=a.ngIf,i=t.oxw();t.xp6(1),t.Q6J("src",t.lcZ(2,4,i.imagesService.getAvatarSrc(o.image_id)),t.LSH),t.xp6(2),t.Udp("font-size",i.fontsize),t.xp6(1),t.Oqu(o.username)}}let S=(()=>{class e{constructor(){this.fontsize="18px",this.store=(0,t.f3M)(r.yh),this.imagesService=(0,t.f3M)(G),this.userData$=this.store.select(K.$v)}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-user-info"]],inputs:{fontsize:"fontsize"},decls:2,vars:3,consts:[[4,"ngIf"],["alt","User Avatar",3,"src"],[1,"user-name"]],template:function(i,n){1&i&&(t.YNc(0,W,5,6,"ng-container",0),t.ALo(1,"async")),2&i&&t.Q6J("ngIf",t.lcZ(1,1,n.userData$))},dependencies:[u.O5,u.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:35px}"],changeDetection:0})}return e})(),D=(()=>{class e{transform(o){return o?Object.values(o):[]}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275pipe=t.Yjl({name:"toArray",type:e,pure:!0})}return e})();const V=function(e){return["/chats",e]};function tt(e,a){if(1&e&&(t.TgZ(0,"li")(1,"a",3),t._uU(2),t.qZA()()),2&e){const o=a.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(2,V,o.id)),t.xp6(1),t.Oqu(o.name)}}let et=(()=>{class e{constructor(){this.store=(0,t.f3M)(r.yh),this.roomsData$=this.store.pipe((0,r.Ys)(q))}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-main-chats-nav"]],decls:7,vars:5,consts:[[1,"user-info"],["id","chats-nav"],[4,"ngFor","ngForOf"],["routerLinkActive","is-active",3,"routerLink"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"app-user-info"),t.qZA(),t.TgZ(2,"nav",1)(3,"ul"),t.YNc(4,tt,3,4,"li",2),t.ALo(5,"toArray"),t.ALo(6,"async"),t.qZA()()),2&i&&(t.xp6(4),t.Q6J("ngForOf",t.lcZ(5,1,t.lcZ(6,3,n.roomsData$))))},dependencies:[u.sg,d.rH,d.Od,S,u.Ov,D],styles:[".user-info[_ngcontent-%COMP%]{z-index:1;position:absolute;top:0;left:0;width:25%;height:35%;min-width:170px;background-color:#c5f1ef;border-radius:40px 0;box-shadow:inset 6px 7px 8.4px #2a676340,inset -6px -7px 20.1px #2a676380;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:35px}#chats-nav[_ngcontent-%COMP%]{z-index:1;min-width:170px;padding:40px 25px;box-sizing:border-box;position:absolute;bottom:0;left:0;width:25%;height:55%;background-color:#c5f1ef;border-radius:0 40px;box-shadow:inset 6px 7px 8.4px #2a676340,inset -6px -7px 20.1px #2a676380}#chats-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;height:42px;display:flex;align-items:center;box-sizing:border-box}#chats-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:35px}#chats-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}#chats-nav[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{border-right:10px solid #006c65}"],changeDetection:0})}return e})();var l=s(95),F=s(9701);const ot={1:"/assets/chats/1.svg",2:"/assets/chats/2.svg",3:"/assets/chats/3.svg",4:"/assets/chats/4.svg"};var g=s(793),it=s(7158);const st=(0,r.P1)(e=>e.ui.components,e=>e.asidePanel.state);var E=s(8645),I=s(9773),Q=s(2490),w=s(983),B=s(7624),c=s(6825),R=function(e){return e.Slide="slide",e}(R||{});const at=(0,c.oQ)([(0,c.jt)("{{time}} cubic-bezier(0.33, 1, 0.68, 1)",(0,c.F4)([(0,c.oB)({transform:"translateX(-100%)",opacity:.7,offset:0}),(0,c.oB)({transform:"translateX(0%)",opacity:1,offset:1})]))]),rt=(0,c.oQ)([(0,c.jt)("{{time}} cubic-bezier(0.33, 1, 0.68, 1)",(0,c.F4)([(0,c.oB)({transform:"translateX(0%)",opacity:1,offset:0}),(0,c.oB)({transform:"translateX(100%)",opacity:.7,offset:1})]))]);function ut(e,a){if(1&e&&(t.ynx(0),t._UZ(1,"img",8),t.BQk()),2&e){const o=a.$implicit,i=t.oxw(3);t.xp6(1),t.ekj("active",i.activeImageID===o[0]),t.Q6J("src",o[1],t.LSH)("@slideAnimation",i.animationType)}}function ct(e,a){if(1&e&&(t.TgZ(0,"div",7),t.YNc(1,ut,2,4,"ng-container",1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",o)}}function lt(e,a){if(1&e&&(t.ynx(0),t.YNc(1,ct,2,1,"div",6),t.BQk()),2&e){const o=a.index,i=t.oxw();t.xp6(1),t.Q6J("ngIf",o===i.currentSlideIndex)}}let dt=(()=>{class e{constructor(){this.images=[],this.slidesChunkSize=3,this.activeImageID="1",this.animationType=R.Slide,this.currentSlideIndex=0,this.slides=[]}ngOnInit(){this.slides=this.chunkSlides()}onPreviousClick(){this.currentSlideIndex=Math.max(0,this.currentSlideIndex-1)}onNextClick(){this.currentSlideIndex=Math.min(this.slides.length-1,this.currentSlideIndex+1)}isFirstSlide(){return 0===this.currentSlideIndex}isLastSlide(){return this.currentSlideIndex===this.slides.length-1}chunkSlides(){const o=[];for(let i=0;i<this.images.length;i+=this.slidesChunkSize)o.push(this.images.slice(i,i+this.slidesChunkSize));return o}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-carousel"]],inputs:{images:"images",slidesChunkSize:"slidesChunkSize",activeImageID:"activeImageID"},decls:6,vars:3,consts:[[1,"carousel"],[4,"ngFor","ngForOf"],[1,"control","prev",3,"disabled","click"],[1,"arrow","left"],[1,"control","next",3,"disabled","click"],[1,"arrow","right"],["class","slides-container",4,"ngIf"],[1,"slides-container"],["alt","Avatar",1,"slide",3,"src"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0),t.YNc(1,lt,2,1,"ng-container",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return n.onPreviousClick()}),t._UZ(3,"span",3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){return n.onNextClick()}),t._UZ(5,"span",5),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("ngForOf",n.slides),t.xp6(1),t.Q6J("disabled",n.isFirstSlide()),t.xp6(2),t.Q6J("disabled",n.isLastSlide()))},dependencies:[u.sg,u.O5],styles:["[_nghost-%COMP%]{flex:1}.carousel[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;overflow:hidden;display:flex;align-items:center;justify-content:center}.parent[_ngcontent-%COMP%]{width:300px}.slides-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:32px;box-sizing:border-box}.slide[_ngcontent-%COMP%]{width:64px;height:64px;object-fit:cover;border-radius:50%;box-sizing:border-box}.slide.active[_ngcontent-%COMP%]{border:5px solid #36df32}.control[_ngcontent-%COMP%]{border:none;background-color:transparent;outline:0;position:absolute;display:flex;flex-direction:column;justify-content:center;height:100%}.control[_ngcontent-%COMP%]:disabled{filter:blur(2px);pointer-events:none}.control[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{border-color:#faf353}.control.next[_ngcontent-%COMP%]{right:0}.control.prev[_ngcontent-%COMP%]{left:0}.arrow[_ngcontent-%COMP%]{display:block;border-left:2px solid black;border-bottom:2px solid black;width:12px;height:12px}.arrow.left[_ngcontent-%COMP%]{transform:rotate(45deg)}.arrow.right[_ngcontent-%COMP%]{transform:rotate(225deg)}"],data:{animation:[(0,c.X$)("slideAnimation",[(0,c.eR)("void => slide",[(0,c._7)(at,{params:{time:"500ms"}})]),(0,c.eR)("slide => void",[(0,c._7)(rt,{params:{time:"500ms"}})])])]}})}return e})();function pt(e,a){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"h4",4),t._uU(2,"\u0412 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u043e\u043c\u0443 \u043a\u0430\u0431\u0456\u043d\u0435\u0442\u0456"),t.qZA(),t._UZ(3,"app-user-info",5),t.TgZ(4,"div",6)(5,"div",7)(6,"app-button",8),t.NdJ("buttonClick",function(){t.CHM(o);const n=t.oxw(2),m=t.MAs(4);return t.KtG(n.openEditProfile(m))}),t.TgZ(7,"div"),t._uU(8,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"),t.qZA(),t._UZ(9,"app-svg-icon",9),t.qZA(),t.TgZ(10,"button",10)(11,"div"),t._uU(12,"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"),t.qZA(),t._UZ(13,"app-svg-icon",9),t.qZA()(),t.TgZ(14,"div",11)(15,"button",12),t.NdJ("click",function(){t.CHM(o);const n=t.oxw(2);return t.KtG(n.logout())}),t.TgZ(16,"div"),t._uU(17,"\u0412\u0438\u0439\u0442\u0438 \u0437 \u0430\u043a\u0430\u0443\u043d\u0442\u0430"),t.qZA(),t._UZ(18,"app-svg-icon",9),t.qZA()()(),t.BQk()}if(2&e){const o=t.oxw(2);t.xp6(9),t.Q6J("iconId",o.icons.Edit),t.xp6(4),t.Q6J("iconId",o.icons.Basket),t.xp6(5),t.Q6J("iconId",o.icons.Logout)}}function mt(e,a){if(1&e&&(t.ynx(0),t._UZ(1,"img",13),t.TgZ(2,"h4",4),t._uU(3,"\u0412 \u043a\u0456\u043c\u043d\u0430\u0442\u0456 \u201c\u0423\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f \u0431\u0443\u0434\u0438\u043d\u043a\u043e\u043c\u201d"),t.qZA(),t.TgZ(4,"div",6)(5,"button",10)(6,"div"),t._uU(7,"\u0412\u0438\u0440\u0456\u0448\u0435\u043d\u0456 \u043f\u0438\u0442\u0430\u043d\u043d\u044f"),t.qZA(),t._UZ(8,"app-svg-icon",9),t.qZA(),t.TgZ(9,"button",10)(10,"div"),t._uU(11,"\u041f\u0438\u0442\u0430\u043d\u043d\u044f \u043d\u0430 \u0440\u043e\u0437\u0433\u043b\u044f\u0434\u0456"),t.qZA(),t._UZ(12,"app-svg-icon",9),t.qZA()(),t.BQk()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("src",o.ChatsImages[1],t.LSH),t.xp6(7),t.Q6J("iconId",o.icons.Filter),t.xp6(4),t.Q6J("iconId",o.icons.Filter)}}function gt(e,a){if(1&e&&(t.ynx(0)(1,2),t.YNc(2,pt,19,3,"ng-container",3),t.YNc(3,mt,13,3,"ng-container",3),t.BQk()()),2&e){const o=a.ngIf,i=t.oxw();t.xp6(1),t.Q6J("ngSwitch",o),t.xp6(1),t.Q6J("ngSwitchCase",i.AsidePanel.Profile),t.xp6(1),t.Q6J("ngSwitchCase",i.AsidePanel.Chat)}}function ht(e,a){if(1&e&&(t.TgZ(0,"app-modal"),t.ynx(1,14),t.TgZ(2,"div",15)(3,"p"),t._uU(4,"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440"),t.qZA(),t._UZ(5,"app-carousel",16),t.TgZ(6,"form",17),t._UZ(7,"app-form-control",18),t.TgZ(8,"app-button",19),t._uU(9,"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"),t.qZA()()(),t.BQk(),t.qZA()),2&e){const o=t.oxw();t.xp6(5),t.Q6J("images",o.images),t.xp6(1),t.Q6J("formGroup",o.editUserNameForm),t.xp6(1),t.Q6J("control",o.editUserNameForm.get("username")),t.xp6(1),t.Q6J("disabled",o.editUserNameForm.invalid)}}let ft=(()=>{class e{constructor(){this.AsidePanel=g.b,this.ChatsImages=ot,this.destroy$=new E.x,this.store=(0,t.f3M)(r.yh),this.dialog=(0,t.f3M)(F.uw),this.icons=h.P,this.fb=(0,t.f3M)(l.qu),this.editUserNameForm=this.fb.group({username:[""]}),this.images=Object.entries(T).slice(0,-1),this.isAsideHidden=!1,this.asideState$=this.store.pipe((0,r.Ys)(st)),this.asideState$.pipe((0,I.R)(this.destroy$)).subscribe(o=>{this.isAsideHidden=o===g.b.Hidden})}logout(){this.store.dispatch((0,it.D2)())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}openEditProfile(o){this.dialog.open(o,{data:{showCloseBtn:!0,headerMessage:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u0432\u0438\u0439 \u041d\u0456\u043a\u043d\u0435\u0439\u043c"}})}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-aside-control"]],hostVars:2,hostBindings:function(i,n){2&i&&t.ekj("hidden",n.isAsideHidden)},decls:5,vars:3,consts:[[4,"ngIf"],["editPofileModal",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"aside-title"],["fontsize","16px"],[1,"aside-control"],[1,"control-btns"],["customClass","icon-btn",3,"buttonClick"],[3,"iconId"],[1,"icon-btn"],[1,"logout"],[1,"icon-btn",3,"click"],["alt","Chat Icon",3,"src"],["modal-body",""],[1,"modal-body"],[1,"carousel",3,"images"],[1,"modal-form",3,"formGroup"],["label","\u041d\u043e\u0432\u0438\u0439 \u043d\u0456\u043a\u043d\u0435\u0439\u043c","name","username","type","text","placeholder","\u043d\u0456\u043a\u043d\u0435\u0439\u043c",3,"control"],["type","submit",3,"disabled"]],template:function(i,n){1&i&&(t.TgZ(0,"aside"),t.YNc(1,gt,4,3,"ng-container",0),t.ALo(2,"async"),t.qZA(),t.YNc(3,ht,10,4,"ng-template",null,1,t.W1O)),2&i&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,n.asideState$)))},dependencies:[u.O5,u.RF,u.n9,Q.r,w.A,B.z,dt,y.b,l._Y,l.JL,l.sg,S,u.Ov],styles:["[_nghost-%COMP%]{padding:40px 20px;text-align:center;min-width:200px;max-width:400px;width:25%;border-radius:40px;box-sizing:border-box;box-shadow:inset 6px 7px 8.4px #2a676340,inset -6px -7px 20.1px #2a676380;background-color:#c5f1ef}.hidden[_nghost-%COMP%]{width:0;display:none!important}aside[_ngcontent-%COMP%]{display:flex;align-items:center;gap:40px;justify-content:flex-start;flex-direction:column;height:100%}aside[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px}aside[_ngcontent-%COMP%]   .aside-control[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;height:100%}aside[_ngcontent-%COMP%]   .aside-control[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{flex:1;display:flex;align-items:flex-end}aside[_ngcontent-%COMP%]   .aside-control[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:0;color:#006c65}aside[_ngcontent-%COMP%]   .aside-control[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover     .icon{fill:none;stroke:#faf353}aside[_ngcontent-%COMP%]   .aside-user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:35px}aside[_ngcontent-%COMP%]   .aside-user-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.modal-body[_ngcontent-%COMP%]{margin-top:32px}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:16px;margin-bottom:32px}.modal-body[_ngcontent-%COMP%]   .modal-form[_ngcontent-%COMP%]{margin-top:32px}"],changeDetection:0})}return e})(),xt=(()=>{class e{constructor(){this.store=(0,t.f3M)(r.yh)}ngOnInit(){this.store.dispatch((0,A.cy)())}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-base"]],decls:7,vars:0,consts:[[1,"main-layout-wrap"],[1,"container"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"app-pages-nav"),t.TgZ(2,"main")(3,"div",1),t._UZ(4,"router-outlet"),t.qZA(),t._UZ(5,"app-main-chats-nav"),t.qZA(),t._UZ(6,"app-aside-control"),t.qZA())},dependencies:[d.lC,N,et,ft],styles:[".main-layout-wrap[_ngcontent-%COMP%]{display:flex;align-items:stretch;padding:12px 40px 12px 48px;column-gap:20px;height:100%;box-sizing:border-box}.car[_ngcontent-%COMP%]{width:400px;height:300px}main[_ngcontent-%COMP%]{width:60%;flex:1;position:relative}main[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding-left:max(25%,170px);top:0;right:0;background-color:#f6f6f6;position:absolute;box-shadow:inset 6px 7px 8.4px #2a676340,inset -6px -7px 20.1px #2a676380;height:100%;border-radius:40px}"]})}return e})();var p=s(8795);let vt=(()=>{class e{constructor(){this.store=(0,t.f3M)(r.yh),this.fb=(0,t.f3M)(l.qu),this.roomsData$=this.store.pipe((0,r.Ys)(q))}buildEditRoomForm(){return this.fb.group({name:["",[l.kI.required]]})}editRoom(o,i){this.store.dispatch((0,A.W1)({roomID:o,editData:{name:i}}))}getLoadingState(o){return this.store.pipe((0,r.Ys)((e=>(0,r.P1)(O(e),a=>a.isLoading))(o)))}getErrorState(o){return this.store.pipe((0,r.Ys)((e=>(0,r.P1)(O(e),a=>a.error))(o)))}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var f=function(e){return e.ErrorDefaultText="\u0412\u0438\u043d\u0438\u043a\u043b\u0430 \u043f\u043e\u043c\u0438\u043b\u043a\u0430",e.SuccesSavedtText="\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e",e}(f||{}),_t=s(2593);let Ct=(()=>{class e{constructor(){this.modalService=(0,t.f3M)(_t.Z)}handleError(o,i){this.modalService.openModal({headerMessage:o?.error?.detail||f.ErrorDefaultText,buttonText:i,showSubmitBtn:!0,icon:h.P.AlertExclamation})}handleSuccess(o){this.modalService.openModal({headerMessage:o,icon:h.P.Success,showCloseBtn:!0})}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var x=s(8538),J=s(8180),bt=s(2460);const yt=[[["","title",""]],[["","subTitle",""]],[["","additional",""]]],Pt=["[title]","[subTitle]","[additional]"];let qt=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-management-card"]],ngContentSelectors:Pt,decls:8,vars:0,consts:[[1,"card"],[1,"heading"]],template:function(i,n){1&i&&(t.F$t(yt),t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t.Hsn(3),t.qZA(),t.TgZ(4,"p"),t.Hsn(5,1),t.qZA()(),t.TgZ(6,"div"),t.Hsn(7,2),t.qZA()())},styles:[".card[_ngcontent-%COMP%]{border-radius:40px 0 0 40px;padding:16px 32px;box-sizing:border-box;box-shadow:inset 6px 7px 8.4px #2a676340,inset -6px -7px 20.1px #2a676380;background-color:#4aada7;display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:5px}p[_ngcontent-%COMP%]{font-size:14px;color:#f6f6f6}"]})}return e})(),Mt=(()=>{class e{constructor(){this.error=null}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-error-message"]],inputs:{error:"error"},decls:1,vars:1,template:function(i,n){1&i&&t._uU(0),2&i&&t.hij("",n.error,"\n")},styles:["[_nghost-%COMP%]{font-size:14px;margin-left:5px;color:#a80e0e}"]})}return e})();const Zt=[[["","pageTitle",""]],[["","pageHeader",""]],[["","pageBody",""]]],At=["[pageTitle]","[pageHeader]","[pageBody]"];let v=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-pages-layout"]],ngContentSelectors:At,decls:9,vars:0,consts:[[1,"nav-title"],[1,"page-title"],[1,"page-content"],[1,"page-content-header"],[1,"scroll-content"],[1,"scroll-content-body"]],template:function(i,n){1&i&&(t.F$t(Zt),t.TgZ(0,"div",0)(1,"h2",1),t.Hsn(2),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3),t.Hsn(5,1),t.qZA(),t.TgZ(6,"div",4)(7,"div",5),t.Hsn(8,2),t.qZA()()())}})}return e})();function Ot(e,a){if(1&e){const o=t.EpF();t.ynx(0,8),t.TgZ(1,"button",9),t.NdJ("click",function(){t.CHM(o);const n=t.oxw().$implicit,m=t.oxw(),_=t.MAs(10);return t.KtG(m.openEditRoomDialog(_,n.id))}),t._UZ(2,"app-svg-icon",10),t.qZA(),t.BQk()}if(2&e){const o=t.oxw(2);t.xp6(2),t.Q6J("iconId",o.icons.Edit)}}function Tt(e,a){if(1&e&&(t.TgZ(0,"div")(1,"app-management-card"),t.ynx(2,5),t._uU(3),t.BQk(),t.ynx(4,6),t._uU(5),t.BQk(),t.YNc(6,Ot,3,1,"ng-container",7),t.ALo(7,"async"),t.qZA()()),2&e){const o=a.$implicit,i=a.index,n=t.oxw();t.xp6(3),t.AsE("",i+1,".",o.name,""),t.xp6(2),t.hij("",o.membersQuantity||0," \u043c\u0435\u0448\u043a\u0430\u043d\u0446\u0456\u0432"),t.xp6(1),t.Q6J("ngIf",t.lcZ(7,4,n.authService.getCurrentRole())===n.UserRole.Admin)}}function Ut(e,a){if(1&e&&t._UZ(0,"app-error-message",16),2&e){const o=t.oxw(2);t.Q6J("error",o.roomError)}}function St(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"app-modal"),t.ynx(1,11),t.TgZ(2,"form",12),t.NdJ("ngSubmit",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.handleEditRoomSubmit())}),t._UZ(3,"app-form-control",13),t.YNc(4,Ut,1,1,"app-error-message",14),t.TgZ(5,"app-button",15),t._uU(6,"\u0417\u043c\u0456\u043d\u0438\u0442\u0438"),t.qZA()(),t.BQk(),t.qZA()}if(2&e){const o=t.oxw();t.xp6(2),t.Q6J("formGroup",o.editRoomForm),t.xp6(1),t.Q6J("control",o.editRoomForm.get("name"))("isRequired",!0),t.xp6(1),t.Q6J("ngIf",o.roomError),t.xp6(1),t.Q6J("disabled",o.editRoomForm.invalid)}}let Dt=(()=>{class e{constructor(){this.dialog=(0,t.f3M)(F.uw),this.authService=(0,t.f3M)(b.e),this.roomsService=(0,t.f3M)(vt),this.apiHandleService=(0,t.f3M)(Ct),this.store=(0,t.f3M)(r.yh),this.icons=h.P,this.modalDestroyed=new E.x,this.roomsData$=this.roomsService.roomsData$,this.UserRole=C.i,this.selectedRoomId=null,this.roomError=null,this.store.dispatch((0,x.m)({state:g.b.Profile})),this.editRoomForm=this.roomsService.buildEditRoomForm()}openEditRoomDialog(o,i){this.selectedRoomId=i,this.dialog.open(o,{data:{showCloseBtn:!0,headerMessage:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043d\u0430\u0437\u0432\u0443 \u043a\u0456\u043c\u043d\u0430\u0442\u0438"}}).afterClosed().pipe((0,J.q)(1)).subscribe(()=>{this.modalDestroyed.next(),this.modalDestroyed.complete(),this.editRoomForm.reset(),this.roomError=null})}handleEditRoomSubmit(){const{name:o}=this.editRoomForm.value,i=this.selectedRoomId;if(o&&null!==i){this.roomsService.editRoom(i,o);const n=this.roomsService.getLoadingState(i),m=this.roomsService.getErrorState(i);n.pipe((0,bt.M)(m),(0,I.R)(this.modalDestroyed)).subscribe(([_,M])=>{_||M?!_&&M&&(this.roomError=M?.error?.detail||f.ErrorDefaultText):(this.editRoomForm.reset(),this.dialog.closeAll(),this.selectedRoomId=null,this.roomError=null,this.apiHandleService.handleSuccess(f.SuccesSavedtText))})}}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-profile-page"]],decls:11,vars:5,consts:[["pageTitle",""],["pageHeader","",1,"page-title"],["pageBody",""],[4,"ngFor","ngForOf"],["editRoomModal",""],["title",""],["subTitle",""],["additional","",4,"ngIf"],["additional",""],[1,"icon-btn",3,"click"],[3,"iconId"],["modal-body","",1,"modal"],[1,"modal-form",3,"formGroup","ngSubmit"],["label","\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u0432\u0443 \u043d\u0430\u0437\u0432\u0443","name","name","type","text","placeholder","\u041d\u043e\u0432\u0430 \u043d\u0430\u0437\u0432\u0430",3,"control","isRequired"],[3,"error",4,"ngIf"],["type","submit",3,"disabled"],[3,"error"]],template:function(i,n){1&i&&(t.TgZ(0,"app-pages-layout"),t.ynx(1,0),t._uU(2,"\u0427\u0430\u0442\u0438\u043a\u0438"),t.BQk(),t.TgZ(3,"h2",1),t._uU(4,"\u041a\u0456\u043c\u043d\u0430\u0442\u0438 \u0434\u043b\u044f \u043e\u0431\u0433\u043e\u0432\u043e\u0440\u0435\u043d\u044c"),t.qZA(),t.TgZ(5,"div",2),t.YNc(6,Tt,8,6,"div",3),t.ALo(7,"toArray"),t.ALo(8,"async"),t.qZA()(),t.YNc(9,St,7,5,"ng-template",null,4,t.W1O)),2&i&&(t.xp6(6),t.Q6J("ngForOf",t.lcZ(7,1,t.lcZ(8,3,n.roomsData$))))},dependencies:[u.sg,u.O5,Q.r,w.A,B.z,qt,Mt,y.b,l._Y,l.JL,l.sg,v,u.Ov,D],styles:[".modal-form[_ngcontent-%COMP%]{margin-top:24px}.modal-form[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{margin-top:8px}.icon-btn[_ngcontent-%COMP%]:hover     .icon{fill:#faf353}"]})}return e})();var Ft=s(2181),Et=s(4664);const Jt=[{path:"",component:xt,children:[{path:p.$.PROFILE_PAGE_ROUTE,component:Dt},{path:p.$.CHATS_PAGE_ROUTE,component:(()=>{class e{constructor(){this.router=(0,t.f3M)(d.F0),this.store=(0,t.f3M)(r.yh)}ngOnInit(){this.redirectToTheFirstRoomPage()}redirectToTheFirstRoomPage(){const o=this.store.select(z);this.store.select(H).pipe((0,Ft.h)(n=>!n),(0,Et.w)(()=>o),(0,J.q)(1)).subscribe(n=>{this.router.navigate([p.$.CHATS_PAGE_ROUTE,n])})}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-chats-page"]],decls:0,vars:0,template:function(i,n){}})}return e})()},{path:p.$.MEMBERS_PAGE_ROUTE,canActivate:[()=>{const e=(0,t.f3M)(b.e),a=(0,t.f3M)(d.F0);return e.getCurrentRole().pipe((0,U.U)(o=>o===C.i.Admin||(a.navigate([p.$.PROFILE_PAGE_ROUTE]),!1)))}],component:(()=>{class e{constructor(){this.store=(0,t.f3M)(r.yh),this.store.dispatch((0,x.m)({state:g.b.Profile}))}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-members-page"]],decls:7,vars:0,consts:[["pageTitle",""],["pageHeader","",1,"page-title"],["pageBody",""]],template:function(i,n){1&i&&(t.TgZ(0,"app-pages-layout"),t.ynx(1,0),t._uU(2,"\u0423\u0447\u0430\u0441\u043d\u0438\u043a\u0438"),t.BQk(),t.TgZ(3,"h2",1),t._uU(4,"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u0432\u0430\u0440\u0442\u0438\u0440 \u0442\u0430 \u0457\u0445 \u043c\u0435\u0448\u043a\u0430\u043d\u0446\u0456\u0432"),t.qZA(),t.TgZ(5,"div",2),t._uU(6," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Accusamus at eaque quae dolorem, illo eligendi vitae et, tenetur fugit, laboriosam debitis aut nobis obcaecati animi deleniti nesciunt fugiat quam totam. Unde perspiciatis vero ratione omnis earum quo atque dolor modi sint architecto laborum nobis ea labore voluptatem maiores, molestias repellat ad sed veniam, suscipit a libero soluta? Ut, illum possimus! Fugit deserunt facilis hic, tempora earum dicta, reprehenderit modi iure laboriosam sint voluptates animi repudiandae quas voluptatem officiis consequuntur, odit repellendus expedita. Quas quisquam doloremque quam aliquid porro mollitia exercitationem. Quibusdam, nostrum ad quam, error repellat odit ipsam velit, nemo repudiandae ipsa a? Eaque consectetur doloribus voluptates sequi ullam dolores soluta quae rerum sint dolorem. Nesciunt id est veniam dolorum! Quaerat dolorum aliquid, necessitatibus tenetur, voluptas ipsum vitae ullam alias consequuntur eum quasi omnis cupiditate aliquam perspiciatis at, non sequi! Ut quibusdam impedit doloribus harum non quasi inventore corrupti dolor! Lorem ipsum dolor sit amet consectetur, adipisicing elit. Accusamus at eaque quae dolorem, illo eligendi vitae et, tenetur fugit, laboriosam debitis aut nobis obcaecati animi deleniti nesciunt fugiat quam totam. Unde perspiciatis vero ratione omnis earum quo atque dolor modi sint architecto laborum nobis ea labore voluptatem maiores, molestias repellat ad sed veniam, suscipit a libero soluta? Ut, illum possimus! Fugit deserunt facilis hic, tempora earum dicta, reprehenderit modi iure laboriosam sint voluptates animi repudiandae quas voluptatem officiis consequuntur, odit repellendus expedita. Quas quisquam doloremque quam aliquid porro mollitia exercitationem. Quibusdam, nostrum ad quam, error repellat odit ipsam velit, nemo repudiandae ipsa a? Eaque consectetur doloribus voluptates sequi ullam dolores soluta quae rerum sint dolorem. Nesciunt id est veniam dolorum! Quaerat dolorum aliquid, necessitatibus tenetur, voluptas ipsum vitae ullam alias consequuntur eum quasi omnis cupiditate aliquam perspiciatis at, non sequi! Ut quibusdam impedit doloribus harum non quasi inventore corrupti dolor! Lorem ipsum dolor sit amet consectetur, adipisicing elit. Accusamus at eaque quae dolorem, illo eligendi vitae et, tenetur fugit, laboriosam debitis aut nobis obcaecati animi deleniti nesciunt fugiat quam totam. Unde perspiciatis vero ratione omnis earum quo atque dolor modi sint architecto laborum nobis ea labore voluptatem maiores, molestias repellat ad sed veniam, suscipit a libero soluta? Ut, illum possimus! Fugit deserunt facilis hic, tempora earum dicta, reprehenderit modi iure laboriosam sint voluptates animi repudiandae quas voluptatem officiis consequuntur, odit repellendus expedita. Quas quisquam doloremque quam aliquid porro mollitia exercitationem. Quibusdam, nostrum ad quam, error repellat odit ipsam velit, nemo repudiandae ipsa a? Eaque consectetur doloribus voluptates sequi ullam dolores soluta quae rerum sint dolorem. Nesciunt id est veniam dolorum! Quaerat dolorum aliquid, necessitatibus tenetur, voluptas ipsum vitae ullam alias consequuntur eum quasi omnis cupiditate aliquam perspiciatis at, non sequi! Ut quibusdam impedit doloribus harum non quasi inventore corrupti dolor! "),t.qZA()())},dependencies:[v]})}return e})()},{path:p.$.CHAT_PAGE_ROUTE,component:(()=>{class e{constructor(){this.store=(0,t.f3M)(r.yh),this.store.dispatch((0,x.m)({state:g.b.Chat}))}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-chat-page"]],decls:7,vars:0,consts:[["pageTitle",""],["pageHeader",""],["pageBody",""]],template:function(i,n){1&i&&(t.TgZ(0,"app-pages-layout"),t.ynx(1,0),t._uU(2,"\u0427\u0430\u0442\u0438\u043a\u0438"),t.BQk(),t.TgZ(3,"div",1),t._uU(4,"\u0422\u0443\u0442 \u0431\u0443\u0434\u0435 \u0431\u043b\u043e\u043a \u0437 \u043d\u0430\u0437\u0432\u043e\u044e \u0447\u0430\u0442\u0430"),t.qZA(),t.TgZ(5,"div",2),t._uU(6," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Accusamus at eaque quae dolorem, illo eligendi vitae et, tenetur fugit, laboriosam debitis aut nobis obcaecati animi deleniti nesciunt fugiat quam totam. Unde perspiciatis vero ratione omnis earum quo atque dolor modi sint architecto laborum nobis ea labore voluptatem maiores, molestias repellat ad sed veniam, suscipit a libero soluta? Ut, illum possimus! Fugit deserunt facilis hic, tempora earum dicta, reprehenderit modi iure laboriosam sint voluptates animi repudiandae quas voluptatem officiis consequuntur, odit repellendus expedita. Quas quisquam doloremque quam aliquid porro mollitia exercitationem. Quibusdam, nostrum ad quam, error repellat odit ipsam velit, nemo repudiandae ipsa a? Eaque consectetur doloribus voluptates sequi ullam dolores soluta quae rerum sint dolorem. Nesciunt id est veniam dolorum! Quaerat dolorum aliquid, necessitatibus tenetur, voluptas ipsum vitae ullam alias consequuntur eum quasi omnis cupiditate aliquam perspiciatis at, non sequi! Ut quibusdam impedit doloribus harum non quasi inventore corrupti dolor! "),t.qZA()())},dependencies:[v]})}return e})()},{path:p.$.COMMENTS_PAGE_ROUTE,component:(()=>{class e{constructor(){this.store=(0,t.f3M)(r.yh),this.store.dispatch((0,x.m)({state:g.b.Hidden}))}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-comments-page"]],decls:7,vars:0,consts:[["pageTitle",""],["pageHeader",""],["pageBody",""]],template:function(i,n){1&i&&(t.TgZ(0,"app-pages-layout"),t.ynx(1,0),t._uU(2,"\u0427\u0430\u0442\u0438\u043a\u0438"),t.BQk(),t.TgZ(3,"div",1),t._uU(4,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456"),t.qZA(),t.TgZ(5,"div",2),t._uU(6," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Accusamus at eaque quae dolorem, illo eligendi vitae et, tenetur fugit, laboriosam debitis aut nobis obcaecati animi deleniti nesciunt fugiat quam totam. Unde perspiciatis vero ratione omnis earum quo atque dolor modi sint architecto laborum nobis ea labore voluptatem maiores, molestias repellat ad sed veniam, suscipit a libero soluta? Ut, illum possimus! Fugit deserunt facilis hic, tempora earum dicta, reprehenderit modi iure laboriosam sint voluptates animi repudiandae quas voluptatem officiis consequuntur, odit repellendus expedita. Quas quisquam doloremque quam aliquid porro mollitia exercitationem. Quibusdam, nostrum ad quam, error repellat odit ipsam velit, nemo repudiandae ipsa a? Eaque consectetur doloribus voluptates sequi ullam dolores soluta quae rerum sint dolorem. Nesciunt id est veniam dolorum! Quaerat dolorum aliquid, necessitatibus tenetur, voluptas ipsum vitae ullam alias consequuntur eum quasi omnis cupiditate aliquam perspiciatis at, non sequi! Ut quibusdam impedit doloribus harum non quasi inventore corrupti dolor! "),t.qZA()())},dependencies:[v]})}return e})()}]}];let kt=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(Jt),d.Bz]})}return e})();var Lt=s(6208);let $t=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[u.ez,kt,Lt.m,l.UX]})}return e})()}}]);